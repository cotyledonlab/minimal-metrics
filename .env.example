# ===========================================
# Minimal Metrics Configuration
# ===========================================
# Copy this file to .env and customize as needed.
# All settings have sensible defaults.

# -------------------------------------------
# Server Configuration
# -------------------------------------------

# Port to run the HTTP server on
PORT=3000

# Network interface to bind to
# Use 0.0.0.0 for all interfaces, 127.0.0.1 for localhost only
HOST=0.0.0.0

# -------------------------------------------
# Database Configuration
# -------------------------------------------

# Path to SQLite database file
# Directory must exist and be writable
DATABASE_PATH=./data/metrics.db

# -------------------------------------------
# Security Configuration
# -------------------------------------------

# Authentication token for dashboard and API access
# Leave empty for public access (no authentication)
# When set, requires Bearer token or cookie for /dashboard and /api/stats/*
AUTH_TOKEN=

# Allowed CORS origins (comma-separated)
# Use * to allow all origins, or specify domains:
# CORS_ORIGINS=https://mysite.com,https://blog.mysite.com
CORS_ORIGINS=*

# -------------------------------------------
# Rate Limiting
# -------------------------------------------

# Time window for rate limiting (in milliseconds)
# Default: 60000 (1 minute)
RATE_LIMIT_WINDOW=60000

# Maximum requests per IP per window
# Default: 100 for API, 200 for collection endpoint
RATE_LIMIT_MAX=100

# -------------------------------------------
# Data Retention
# -------------------------------------------

# How long to keep raw event data (in hours)
# Raw events are aggregated hourly, then deleted
# Default: 24 hours
RAW_DATA_RETENTION=24

# How long to keep aggregated statistics (in hours)
# Default: 8760 (1 year)
AGGREGATED_DATA_RETENTION=8760

# -------------------------------------------
# Dashboard Configuration
# -------------------------------------------

# Dashboard URL path (without trailing slash)
DASHBOARD_PATH=/dashboard

# API URL path prefix (without trailing slash)
API_PATH=/api
