!function(){"use strict"
if("1"===navigator.doNotTrack||"1"===window.doNotTrack)return
function t(){const t="_mm_sid"
let e=sessionStorage.getItem(t)
return e||(e=Math.random().toString(36).substr(2,9),sessionStorage.setItem(t,e)),e}function e(){var e,n={utm_source:(e=new URLSearchParams(window.location.search)).get("utm_source"),utm_medium:e.get("utm_medium"),utm_campaign:e.get("utm_campaign"),utm_term:e.get("utm_term"),utm_content:e.get("utm_content")}
return{url:window.location.href,ref:document.referrer||null,sid:t(),scr:screen.width+"x"+screen.height,tz:Intl.DateTimeFormat().resolvedOptions().timeZone,ts:Date.now(),utm_source:n.utm_source,utm_medium:n.utm_medium,utm_campaign:n.utm_campaign,utm_term:n.utm_term,utm_content:n.utm_content}}function n(t,e=0){const o=(window.MM_HOST||"")+"/api/collect"
if(navigator.sendBeacon){const i=new Blob([JSON.stringify(t)],{type:"application/json"})
!navigator.sendBeacon(o,i)&&e<3&&setTimeout(()=>n(t,e+1),1e3*Math.pow(2,e))}else{const i=new XMLHttpRequest
i.open("POST",o,!0),i.setRequestHeader("Content-Type","application/json"),i.onerror=function(){e<3&&setTimeout(()=>n(t,e+1),1e3*Math.pow(2,e))},i.send(JSON.stringify(t))}}function o(){"visible"===document.visibilityState&&n(e())}"complete"===document.readyState?o():window.addEventListener("load",o)
let i=window.location.href
new MutationObserver(function(){window.location.href!==i&&(i=window.location.href,o())}).observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&o()}),window.mm={track:function(t,o){const i=e()
i.evt=t,i.props=o||{},n(i)}}}()
